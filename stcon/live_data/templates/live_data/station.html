{% extends 'live_data/base.html' %}

{% load static %}


<!-- block content ------------------------------------------------------------- -->
{% block content %}





<div class="row">




  <div class="col-12">
    <h5  class="text-center">Data from Station {{st_id}}</h5>
  </div>





<div class="col-md-6">

  <div class="card ">
    <h5 class="card-header">Station {{st_id}}</h5>
    <div class="card-body">
      <h6 class="card-title">Limit 10</h6>

      <canvas id="chart_bar"></canvas>

      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
      <a href="#" class="btn btn-secondary">Go somewhere</a>
    </div>
  </div>

</div>
<!-- end col-12 -->



<div class="col-md-6">

  <div class="card ">
    <h5 class="card-header">Station {{st_id}}</h5>
    <div class="card-body">
      <h6 class="card-title">Limit 10</h6>

      <canvas id="chart_line"></canvas>

      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
      <a href="#" class="btn btn-secondary">Go somewhere</a>
    </div>
  </div>

</div>
<!-- end col-6 -->





<div class="col-12 mt-md-4">

  <div class="card ">
    <h5 class="card-header">Station {{st_id}}</h5>
    <div class="card-body">
      <h6 class="card-title">Limit 10</h6>



          <div class="table-responsive-sm">
            <table class="table table-striped table-bordered border-primary ">
              <thead>
                <tr class="table-primary">
                  <th scope="col">#id</th>
                  <th scope="col">Voltage, V</th>
                  <th scope="col">Current, A</th>
                  <th scope="col">Potential #1, V</th>
                  <th scope="col">Potential #2, V</th>
                  <th scope="col">Time create</th>
                </tr>
              </thead>
              <tbody>


                {% for st in station_data %}
                <tr>
                  <th scope="row">{{st.id}}</th>
                  <td>{{st.u}}</td>
                  <td>{{st.i}}</td>
                  <td>{{st.p1}}</td>
                  <td>{{st.p2}}</td>
                  <td>{{st.time_create}}</td>
                </tr>
                {% endfor %}



              </tbody>
            </table>
          </div>




      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
      <a href="#" class="btn btn-secondary">Go somewhere</a>
    </div>
  </div>

</div>
<!-- end col-12 -->








</div>




<!-- charts -->
<script src="{% static 'live_data/js/chart.min.js' %}"></script>
<script>
const ctx = document.getElementById('chart_bar');
const chart_bar = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>


<!-- line chart -->
<script>
const labels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'];
const data = {
  labels: labels,
  datasets: [{
    label: 'My First Dataset',
    data: [65, 59, 80, 81, 56, 55, 40],
    fill: false,
    borderColor: 'rgb(75, 192, 192)',
    tension: 0.1
  }]
};
const config_line = {
  type: 'line',
  data: data,
};
const ctx_line = document.getElementById('chart_line');
const chart_line = new Chart(ctx_line, config_line);
</script>
<!-- end charts -->


{% endblock %}

<!-- end block content ------------------------------------------------------------- -->